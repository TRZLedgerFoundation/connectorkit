---
title: React Integration
description: React-specific exports and components for building Solana applications with React.
---

# React Integration

The **React** module (`@connectorkit/sdk/react`) provides React-specific exports and components for building Solana applications with React.

## ArcProvider

The foundational provider component that enables all SDK functionality in your React app.

### Basic Setup

```tsx
import { ArcProvider } from '@connectorkit/sdk'

function App() {
  return (
    <ArcProvider>
      <YourApp />
    </ArcProvider>
  )
}

export default App
```

### Configuration Options

```tsx
import { ArcProvider } from '@connectorkit/sdk'

function App() {
  return (
    <ArcProvider
      network="devnet"
      rpcUrl="https://api.devnet.solana.com"
      commitment="confirmed"
    >
      <YourApp />
    </ArcProvider>
  )
}
```

### Advanced Configuration

```tsx
import { ArcProvider, createProvider } from '@connectorkit/sdk'
import { JupiterProvider } from '@connectorkit/jupiter'

// Create custom swap provider
const customProvider = createProvider({
  swap: [new JupiterProvider()]
})

function App() {
  return (
    <ArcProvider
      network="mainnet"
      rpcUrl="https://your-premium-rpc.com"
      commitment="finalized"
      providers={[customProvider]}
      config={{
        maxRetries: 5,
        retryDelay: 1000,
        enableDebugLogs: process.env.NODE_ENV === 'development'
      }}
    >
      <YourApp />
    </ArcProvider>
  )
}
```

## useArcClient Hook

Access the Arc client and configuration from any component.

### Basic Usage

```tsx
import { useArcClient } from '@connectorkit/sdk'

function NetworkInfo() {
  const { wallet, network, config } = useArcClient()
  
  return (
    <div>
      <p>Network: {network}</p>
      <p>RPC: {config.rpcUrl}</p>
      <p>Commitment: {config.commitment}</p>
      {wallet && <p>Wallet: {wallet.name}</p>}
    </div>
  )
}
```

### Client Properties

```typescript
interface ArcClientData {
  wallet: Wallet | null
  network: string
  config: {
    rpcUrl: string
    commitment: 'processed' | 'confirmed' | 'finalized'
    cluster: string
  }
}
```

## React Query Integration

The SDK is built on React Query for optimal caching and synchronization.

### Query Client Setup

```tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ArcProvider } from '@connectorkit/sdk'

// Create query client with optimized defaults
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 30000, // 30 seconds
      gcTime: 5 * 60 * 1000, // 5 minutes
      retry: 2,
      refetchOnWindowFocus: false
    }
  }
})

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <ArcProvider>
        <YourApp />
      </ArcProvider>
    </QueryClientProvider>
  )
}
```

### Cache Management

```tsx
import { useQueryClient } from '@tanstack/react-query'
import { queryKeys } from '@connectorkit/sdk/utils'

function CacheManager() {
  const queryClient = useQueryClient()
  
  const clearBalanceCache = () => {
    queryClient.invalidateQueries({
      queryKey: [...queryKeys.all, 'balance']
    })
  }
  
  const clearAllCache = () => {
    queryClient.clear()
  }
  
  return (
    <div>
      <button onClick={clearBalanceCache}>
        Refresh Balances
      </button>
      <button onClick={clearAllCache}>
        Clear All Cache
      </button>
    </div>
  )
}
```

## Error Boundaries

Handle errors gracefully with React error boundaries.

### SDK Error Boundary

```tsx
import React from 'react'
import { isArcError, formatErrorForUser } from '@connectorkit/sdk/core'

interface Props {
  children: React.ReactNode
}

interface State {
  hasError: boolean
  error: Error | null
}

class SolanaErrorBoundary extends React.Component<Props, State> {
  constructor(props: Props) {
    super(props)
    this.state = { hasError: false, error: null }
  }
  
  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error }
  }
  
  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error('Solana SDK Error:', error, errorInfo)
    
    // Log to error reporting service
    if (isArcError(error)) {
      analytics.track('SDK_Error', {
        code: error.code,
        severity: error.severity,
        context: error.context
      })
    }
  }
  
  render() {
    if (this.state.hasError && this.state.error) {
      const userMessage = formatErrorForUser(this.state.error)
      
      return (
        <div className="bg-red-50 border border-red-200 rounded-lg p-6">
          <h2 className="text-red-800 text-lg font-semibold mb-2">
            Something went wrong
          </h2>
          <p className="text-red-700 mb-4">{userMessage}</p>
          <button
            onClick={() => this.setState({ hasError: false, error: null })}
            className="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"
          >
            Try Again
          </button>
        </div>
      )
    }
    
    return this.props.children
  }
}

// Usage
function App() {
  return (
    <SolanaErrorBoundary>
      <ArcProvider>
        <YourApp />
      </ArcProvider>
    </SolanaErrorBoundary>
  )
}
```

### Hook-Level Error Handling

```tsx
import { useBalance } from '@connectorkit/sdk'
import { formatErrorForUser } from '@connectorkit/sdk/core'

function WalletBalance({ address }: { address: string }) {
  const { balance, error, isLoading } = useBalance({ address })
  
  if (isLoading) {
    return <div>Loading balance...</div>
  }
  
  if (error) {
    const userMessage = formatErrorForUser(error)
    return (
      <div className="text-red-600">
        Error: {userMessage}
      </div>
    )
  }
  
  return (
    <div>
      Balance: {balance ? `${Number(balance) / 1e9} SOL` : '0 SOL'}
    </div>
  )
}
```

## React Patterns

### Loading States

```tsx
import { useBalance, useWalletAddress } from '@connectorkit/sdk'

function SmartWalletBalance() {
  const { address, isConnected } = useWalletAddress()
  const { balance, isLoading, error } = useBalance({ 
    address,
    enabled: isConnected // Only fetch when wallet is connected
  })
  
  if (!isConnected) {
    return <div>Please connect your wallet</div>
  }
  
  if (isLoading) {
    return (
      <div className="flex items-center space-x-2">
        <div className="w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin" />
        <span>Loading balance...</span>
      </div>
    )
  }
  
  if (error) {
    return (
      <div className="text-red-600">
        Failed to load balance
      </div>
    )
  }
  
  return (
    <div className="text-green-600 font-mono">
      {balance ? `${Number(balance) / 1e9} SOL` : '0 SOL'}
    </div>
  )
}
```

### Conditional Rendering

```tsx
import { useCluster, useBalance } from '@connectorkit/sdk'

function NetworkAwareComponent() {
  const { cluster, isMainnet, isDevnet } = useCluster()
  const { balance } = useBalance({ address: 'your-address' })
  
  return (
    <div>
      <h2>Network: {cluster}</h2>
      
      {isMainnet && (
        <div className="bg-green-100 border border-green-300 rounded p-2">
          <p>ðŸš€ You're on mainnet! Real SOL ahead.</p>
        </div>
      )}
      
      {isDevnet && (
        <div className="bg-yellow-100 border border-yellow-300 rounded p-2">
          <p>ðŸ§ª Development mode - test SOL only</p>
          <a href="https://faucet.solana.com" className="text-blue-600">
            Get test SOL â†’
          </a>
        </div>
      )}
      
      <p>Balance: {balance ? `${Number(balance) / 1e9} SOL` : '0 SOL'}</p>
    </div>
  )
}
```

### Form Integration

```tsx
import { useState } from 'react'
import { useTransaction, useWalletAddress } from '@connectorkit/sdk'
import { transferSOL } from '@solana/kit'

function TransferForm() {
  const [to, setTo] = useState('')
  const [amount, setAmount] = useState('')
  const { address: from } = useWalletAddress()
  const { sendTransaction, isPending, error, data } = useTransaction()
  
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    
    if (!from) {
      alert('Please connect your wallet')
      return
    }
    
    try {
      const transaction = transferSOL({
        from,
        to,
        amount: parseFloat(amount) * 1e9 // Convert SOL to lamports
      })
      
      await sendTransaction(transaction)
    } catch (error) {
      console.error('Transfer failed:', error)
    }
  }
  
  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      <div>
        <label className="block text-sm font-medium">To Address</label>
        <input
          type="text"
          value={to}
          onChange={(e) => setTo(e.target.value)}
          className="w-full border rounded px-3 py-2"
          placeholder="Recipient address"
          required
        />
      </div>
      
      <div>
        <label className="block text-sm font-medium">Amount (SOL)</label>
        <input
          type="number"
          value={amount}
          onChange={(e) => setAmount(e.target.value)}
          className="w-full border rounded px-3 py-2"
          placeholder="0.1"
          step="0.001"
          min="0"
          required
        />
      </div>
      
      {error && (
        <div className="text-red-600 text-sm">
          Error: {error.message}
        </div>
      )}
      
      {data && (
        <div className="text-green-600 text-sm">
          Success! Transaction: {data.signature}
        </div>
      )}
      
      <button
        type="submit"
        disabled={isPending || !from}
        className={`w-full py-2 px-4 rounded font-medium ${
          isPending 
            ? 'bg-gray-300 cursor-not-allowed'
            : 'bg-blue-600 hover:bg-blue-700 text-white'
        }`}
      >
        {isPending ? 'Sending...' : 'Send SOL'}
      </button>
    </form>
  )
}
```

## TypeScript Integration

### Custom Hook Types

```typescript
import { useBalance } from '@connectorkit/sdk'
import type { UseBalanceReturn } from '@connectorkit/sdk'

function useFormattedBalance(address?: string): UseBalanceReturn & {
  formattedBalance: string
  balanceInSOL: number
} {
  const balanceData = useBalance({ address })
  
  return {
    ...balanceData,
    formattedBalance: balanceData.balance 
      ? `${(Number(balanceData.balance) / 1e9).toFixed(4)} SOL`
      : '0 SOL',
    balanceInSOL: balanceData.balance 
      ? Number(balanceData.balance) / 1e9
      : 0
  }
}
```

### Component Props

```typescript
import type { Address } from '@solana/kit'

interface WalletComponentProps {
  address: Address | string
  showBalance?: boolean
  onBalanceChange?: (balance: bigint) => void
}

function WalletComponent({ 
  address, 
  showBalance = true,
  onBalanceChange 
}: WalletComponentProps) {
  const { balance } = useBalance({ 
    address,
    onUpdate: onBalanceChange
  })
  
  // Component implementation
}
```

## Performance Optimization

### Memoization

```tsx
import { memo } from 'react'
import { useBalance } from '@connectorkit/sdk'

const WalletBalance = memo(function WalletBalance({ 
  address 
}: { 
  address: string 
}) {
  const { balance, isLoading } = useBalance({ address })
  
  if (isLoading) return <div>Loading...</div>
  
  return <div>{balance ? `${Number(balance) / 1e9} SOL` : '0 SOL'}</div>
})

// Only re-renders when address changes
```

### Selective Updates

```tsx
import { useBalance } from '@connectorkit/sdk'

function OptimizedComponent() {
  // Only update when balance actually changes, not on every re-render
  const { balance } = useBalance({ 
    address: 'your-address',
    refreshInterval: 30000, // 30 seconds
    enabled: true // Only when component is visible
  })
  
  return <div>Balance: {balance}</div>
}
```

## Next Steps

- **[Hooks Overview](/docs/hooks/hooks)** - Learn about all available hooks
- **[Core Architecture](/docs/hooks/core)** - Understand the underlying infrastructure
- **[Hook Reference](/docs/hooks/use-balance)** - Detailed hook documentation
