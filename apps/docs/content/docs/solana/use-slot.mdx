---
title: useSlot
description: Hook to get the current slot number from the Solana blockchain
---

# useSlot

The `useSlot` hook fetches the current slot number from the Solana blockchain. Slots represent the basic time unit in Solana, though not all slots contain blocks.

## Usage

### Direct Import
```tsx
import { useSlot } from '@arc/solana'

function SlotDisplay() {
  const { slot, isLoading, error } = useSlot({
    refreshInterval: 5000
  })
  
  if (isLoading) return <div>Loading current slot...</div>
  if (error) return <div>Error: {error.message}</div>
  
  return (
    <div>
      <p>Current Slot: {slot?.toString()}</p>
    </div>
  )
}
```

### Copy Hook Code
```tsx
'use client'

import { useQuery } from '@tanstack/react-query'
import { useArcClient } from '../core/arc-client-provider'
import type { Transport } from '../transports/types'
import { 
  ArcError,
  createNetworkError,
  type ArcErrorContext
} from '../core/error-handler'

export interface UseSlotOptions {
  refreshInterval?: number
  enabled?: boolean
}

export interface UseSlotReturn {
  slot: bigint | null
  isLoading: boolean
  error: ArcError | null
  refetch: () => void
}

export function useSlot(options: UseSlotOptions = {}): UseSlotReturn {
  const { network } = useArcClient()
  
  const {
    refreshInterval = 10000, // Default to 10 seconds
    enabled = true,
  } = options

  const query = useQuery<bigint, ArcError>({
    networkMode: "offlineFirst",
    queryKey: ['slot', network.rpcUrl],
    queryFn: async ({ signal }): Promise<bigint> => {
      const context: ArcErrorContext = {
        operation: 'getSlot',
        timestamp: Date.now(),
        rpcUrl: network.rpcUrl
      }

      try {
        const transport = (useArcClient() as any).config.transport as Transport
        const result: any = await transport.request(
          { method: 'getSlot', params: [] },
          { signal }
        )
        return typeof result === 'bigint' ? result : BigInt(result ?? 0)
      } catch (error) {
        const errorMessage = error instanceof Error ? error.message : String(error)
        throw createNetworkError(
          `Failed to fetch slot: ${errorMessage}`,
          context,
          error as Error
        )
      }
    },
    enabled: enabled,
    refetchInterval: refreshInterval,
    refetchOnWindowFocus: false,
    staleTime: 5_000,
    gcTime: 5 * 60_000,
    retry: 1,
    notifyOnChangeProps: ['data', 'error', 'isLoading'],
  })

  return {
    slot: query.data ?? null,
    isLoading: query.isLoading,
    error: query.error ?? null,
    refetch: query.refetch,
  }
}
```

## Parameters

- `refreshInterval?: number` - How often to refresh data in milliseconds (default: 10000)
- `enabled?: boolean` - Whether the query is enabled (default: true)

## Return Value

- `slot: bigint | null` - The current slot number as a BigInt
- `isLoading: boolean` - Whether the slot is loading
- `error: ArcError | null` - Any error that occurred
- `refetch: () => void` - Function to manually refetch the slot

## Example

```tsx
import { useSlot } from '@arc/solana'
import { useBlockHeight } from '@arc/solana'
import { useEffect, useState } from 'react'

function SlotBlockComparison() {
  const { slot } = useSlot({ refreshInterval: 3000 })
  const { blockHeight, blockHeightNumber } = useBlockHeight({ refreshInterval: 3000 })
  
  const [slotRate, setSlotRate] = useState<number>(0)
  const [previousSlot, setPreviousSlot] = useState<bigint | null>(null)
  
  useEffect(() => {
    if (slot && previousSlot) {
      const slotDiff = Number(slot - previousSlot)
      if (slotDiff > 0) {
        setSlotRate(slotDiff / 3) // slots per second (3 second interval)
      }
    }
    setPreviousSlot(slot)
  }, [slot])

  return (
    <div style={{ padding: '16px' }}>
      <h3>Slot vs Block Height</h3>
      
      <div style={{ 
        display: 'grid', 
        gridTemplateColumns: '1fr 1fr', 
        gap: '16px',
        marginBottom: '16px'
      }}>
        <div style={{ 
          padding: '12px', 
          border: '1px solid #ddd', 
          borderRadius: '4px' 
        }}>
          <h4>Current Slot</h4>
          <p style={{ fontSize: '20px', fontFamily: 'monospace' }}>
            {slot ? Number(slot).toLocaleString() : 'Loading...'}
          </p>
          <small>Updates ~2.5x per second</small>
        </div>
        
        <div style={{ 
          padding: '12px', 
          border: '1px solid #ddd', 
          borderRadius: '4px' 
        }}>
          <h4>Block Height</h4>
          <p style={{ fontSize: '20px', fontFamily: 'monospace' }}>
            {blockHeight ? blockHeightNumber.toLocaleString() : 'Loading...'}
          </p>
          <small>Only confirmed blocks</small>
        </div>
      </div>
      
      {slot && blockHeight && (
        <div style={{ 
          padding: '12px', 
          backgroundColor: '#f5f5f5', 
          borderRadius: '4px' 
        }}>
          <h4>Analysis</h4>
          <p><strong>Slot Progress Rate:</strong> ~{slotRate.toFixed(1)} slots/second</p>
          <p><strong>Empty Slots:</strong> {Number(slot) - blockHeightNumber} 
             ({(((Number(slot) - blockHeightNumber) / Number(slot)) * 100).toFixed(1)}%)</p>
          <p><strong>Block Production Rate:</strong> 
             ~{((blockHeightNumber / Number(slot)) * 2.5).toFixed(1)} blocks/second</p>
        </div>
      )}
    </div>
  )
}
```

## Slot vs Block Height

**Slots**:
- Basic time unit in Solana (~400ms target)
- Not all slots contain blocks
- Can be empty due to network conditions
- Updates more frequently
- Better for precise timing

**Block Height**:
- Only counts slots with confirmed blocks
- More stable for confirmation logic
- Better for transaction finality calculations
- Recommended for most use cases

## Use Cases

- **Precise Timing**: When you need the most granular time unit
- **Network Analysis**: Understanding slot utilization and empty slots
- **Performance Monitoring**: Tracking network performance metrics
- **Low-level Operations**: Slot-based calculations and timing
- **Comparison Studies**: Analyzing slot vs block production rates

## Notes

- Slots advance approximately every 400 milliseconds
- Not all slots contain blocks due to network conditions
- For most applications, `useBlockHeight` is recommended over `useSlot`
- Returns BigInt for compatibility with large slot numbers
- Includes comprehensive error handling with network context
- Consider the refresh interval based on your precision needs